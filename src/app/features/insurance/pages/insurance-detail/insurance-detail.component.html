<h2>社会保険料 詳細</h2>

<!-- 従業員切り替えセレクター -->
<div class="form-row">
  <label>従業員</label>
  <select [(ngModel)]="selectedEmployeeId" (ngModelChange)="onEmployeeChange()">
    <option *ngFor="let emp of employees" [value]="emp.employeeId">{{ emp.lastName }} {{ emp.firstName }}</option>
  </select>
</div>

<!-- プロフィールカード -->
<div class="profile-card" *ngIf="employeeInfo">
  <div class="avatar">{{ employeeInfo.lastName[0] }}{{ employeeInfo.firstName[0] }}</div>
  <div class="profile-main">
    <div class="name">{{ employeeInfo.lastName }} {{ employeeInfo.firstName }}</div>
    <div class="id">従業員番号: {{ employeeInfo.employeeId }}</div>
    <div class="office">{{ employeeInfo.officeName }}</div>
    <div class="birth">生年月日: {{ employeeInfo.birthday | date:'yyyy-MM-dd' }}</div>
    <div class="contract">契約開始日: {{ employeeInfo.contractStartDate || 'ー' }}</div>
  </div>
</div>

<!-- 給与計算結果テーブル -->
<div class="history-table">
  <h3>給与計算結果</h3>
  <table *ngIf="selectedEmployeeSalaryCalculations.length > 0">
    <thead>
      <tr>
        <th>対象年月</th>
        <th>支社</th>
        <th>等級</th>
        <th>標準報酬月額</th>
        <th>健康保険料</th>
        <th>厚生年金保険料</th>
        <th>控除額合計</th>
        <th>会社負担</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of selectedEmployeeSalaryCalculations">
        <td>{{ row.applyYearMonth }}</td>
        <td>{{ getOfficeName(row.officeId) }}</td>
        <td>{{ row.healthGrade }}</td>
        <td>{{ row.healthMonthly | currency:'JPY':'symbol':'1.0-0' }}</td>
        <td>{{ row.healthInsurance | number }}</td>
        <td>{{ row.pension | number }}</td>
        <td>{{ row.deductionTotal | number }}</td>
        <td>{{ row.companyShare | number }}</td>
      </tr>
    </tbody>
  </table>
  <div *ngIf="selectedEmployeeSalaryCalculations.length === 0">該当データなし</div>
</div>

<!-- 賞与計算結果テーブル -->
<div class="history-table">
  <h3>賞与計算結果</h3>
  <table *ngIf="selectedEmployeeBonusCalculations.length > 0">
    <thead>
      <tr>
        <th>対象年月</th>
        <th>支社</th>
        <th>標準賞与額</th>
        <th>健康保険料</th>
        <th>厚生年金保険料</th>
        <th>控除額合計</th>
        <th>会社負担</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of selectedEmployeeBonusCalculations">
        <td>{{ row.applyYearMonth }}</td>
        <td>{{ getOfficeName(row.officeId) }}</td>
        <td>{{ row.standardBonus | number }}</td>
        <td>{{ row.healthInsurance | number }}</td>
        <td>{{ row.pension | number }}</td>
        <td>{{ row.deductionTotal | number }}</td>
        <td>{{ row.companyShare | number }}</td>
      </tr>
    </tbody>
  </table>
  <div *ngIf="selectedEmployeeBonusCalculations.length === 0">該当データなし</div>
</div>
