<form [formGroup]="form" (ngSubmit)="onSubmit()" class="add-insurance-rate-form">
  <div class="form-group">
    <label for="prefectureCode">都道府県 <span class="required">*</span></label>
    <select id="prefectureCode" formControlName="prefectureCode" required>
      <option value="">選択してください</option>
      <option *ngFor="let pref of prefectures" [value]="pref.code">{{ pref.name }}</option>
    </select>
    <div class="error" *ngIf="form.get('prefectureCode')?.invalid && form.get('prefectureCode')?.touched">必須項目です</div>
  </div>

  <div class="form-group">
    <label for="validFrom">適用開始年月 <span class="required">*</span></label>
    <input id="validFrom" type="month" formControlName="validFrom" required />
    <div class="error" *ngIf="form.get('validFrom')?.invalid && form.get('validFrom')?.touched">必須項目です</div>
  </div>

  <div class="form-group">
    <label for="validTo">適用終了年月</label>
    <input id="validTo" type="month" formControlName="validTo" />
  </div>

  <div class="form-group">
    <label for="healthInsuranceBaseRate">健康保険 基本保険料率 <span class="required">*</span></label>
    <input id="healthInsuranceBaseRate" type="number" step="0.01" formControlName="healthInsuranceBaseRate" required />
    <div class="error" *ngIf="form.get('healthInsuranceBaseRate')?.invalid && form.get('healthInsuranceBaseRate')?.touched">必須項目です（0以上）</div>
  </div>

  <div class="form-group">
    <label for="healthInsuranceSpecificRate">健康保険 特定保険料率 <span class="required">*</span></label>
    <input id="healthInsuranceSpecificRate" type="number" step="0.01" formControlName="healthInsuranceSpecificRate" required />
    <div class="error" *ngIf="form.get('healthInsuranceSpecificRate')?.invalid && form.get('healthInsuranceSpecificRate')?.touched">必須項目です（0以上）</div>
  </div>

  <div class="form-group">
    <label for="healthInsuranceRate">健康保険料率 <span class="required">*</span></label>
    <input id="healthInsuranceRate" type="number" step="0.01" formControlName="healthInsuranceRate" required />
    <div class="error" *ngIf="form.get('healthInsuranceRate')?.invalid && form.get('healthInsuranceRate')?.touched">必須項目です（0以上）</div>
  </div>

  <div class="form-group">
    <label for="healthInsuranceShareRate">健康保険折半割合 <span class="required">*</span></label>
    <input id="healthInsuranceShareRate" type="number" step="0.01" formControlName="healthInsuranceShareRate" required />
    <div class="error" *ngIf="form.get('healthInsuranceShareRate')?.invalid && form.get('healthInsuranceShareRate')?.touched">必須項目です（0以上）</div>
  </div>

  <div class="form-group">
    <label for="careInsuranceRate">介護保険料率</label>
    <input id="careInsuranceRate" type="number" step="0.01" formControlName="careInsuranceRate" />
  </div>

  <div class="form-group">
    <label for="careInsuranceShareRate">介護保険折半割合</label>
    <input id="careInsuranceShareRate" type="number" step="0.01" formControlName="careInsuranceShareRate" />
  </div>

  <div class="form-group">
    <label for="employeePensionInsuranceRate">厚生年金保険料率 <span class="required">*</span></label>
    <input id="employeePensionInsuranceRate" type="number" step="0.01" formControlName="employeePensionInsuranceRate" required />
    <div class="error" *ngIf="form.get('employeePensionInsuranceRate')?.invalid && form.get('employeePensionInsuranceRate')?.touched">必須項目です（0以上）</div>
  </div>

  <div class="form-group">
    <label for="employeePensionShareRate">厚生年金折半割合 <span class="required">*</span></label>
    <input id="employeePensionShareRate" type="number" step="0.01" formControlName="employeePensionShareRate" required />
    <div class="error" *ngIf="form.get('employeePensionShareRate')?.invalid && form.get('employeePensionShareRate')?.touched">必須項目です（0以上）</div>
  </div>

  <div class="form-actions">
    <button type="submit" [disabled]="form.invalid || loading">登録</button>
    <button type="button" (click)="onCancel()" [disabled]="loading">キャンセル</button>
  </div>

  <div class="error" *ngIf="error">{{ error }}</div>
  <div class="loading" *ngIf="loading">登録中...</div>
</form>
