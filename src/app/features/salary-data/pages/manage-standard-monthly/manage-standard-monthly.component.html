<div class="standard-monthly-container">
  
  <div class="company-info-block" *ngIf="companyId && companyName">
    <div>企業ID：{{ companyId }}</div>
    <div>企業名：{{ companyName }}</div>
    <h2>標準報酬月額管理</h2>
  </div>
  
  <div class="standard-monthly-actions">
    <button class="add-standard-monthly-btn" routerLink="/standard-monthly-form">標準報酬月額を登録</button>
  </div>

  <div class="standard-monthly-table-wrapper">
    <table class="standard-monthly-table">
      <thead>
        <tr>
          <th>支社</th>
          <th>従業員名</th>
          <th>現在の等級</th>
          <th>現在の報酬月額</th>
          <th>適用開始日</th>
          <th>次回等級</th>
          <th>新報酬月額</th>
          <th>適用開始予定</th>
          <th>詳細</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of getCurrentStandardMonthlyList()">
          <td>{{ getOfficeName(row.officeId) }}</td>
          <td>{{ getEmployeeName(row.employeeId) }}</td>
          <td>
            <ng-container *ngIf="getCurrentDecision(row) as current; else noCurrent">
              {{ current.healthGrade }}（{{ current.pensionGrade }}）
            </ng-container>
            <ng-template #noCurrent>ー</ng-template>
          </td>
          <td>
            <ng-container *ngIf="getCurrentDecision(row) as current; else noCurrent">
              {{ current.healthMonthly | currency:'JPY':'symbol' }}
            </ng-container>
            <ng-template #noCurrent>ー</ng-template>
          </td>
          <td>{{ row.applyYearMonth }}</td>
          <td>
            <ng-container *ngIf="getNextDecision(row) as next; else noNext">
              {{ next.healthGrade }}（{{ next.pensionGrade }}）
            </ng-container>
            <ng-template #noNext>ー</ng-template>
          </td>
          <td>
            <ng-container *ngIf="getNextDecision(row) as next; else noNext">
              {{ next.healthMonthly | currency:'JPY':'symbol' }}
            </ng-container>
            <ng-template #noNext>ー</ng-template>
          </td>
          <td>
            <ng-container *ngIf="getNextDecision(row) as next; else noNext">
              {{ next.applyYearMonth }}
            </ng-container>
            <ng-template #noNext>ー</ng-template>
          </td>
          <td>
            <button [routerLink]="['/detail-standard-monthly']" [queryParams]="{ employeeId: row.employeeId, officeId: row.officeId }">詳細</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
