<!-- çµ¦ä¸ãƒ»è³ä¸ç™»éŒ²ç”»é¢ -->

<div class="salary-registration-container">
  <div style="margin-bottom: 12px;">
    <div>ä¼æ¥­IDï¼š{{ companyDisplayId }}</div>
    <div>ä¼æ¥­åï¼š{{ companyName }}</div>
  </div>
  <h2>çµ¦ä¸ãƒ»è³ä¸ç™»éŒ²</h2>
  <div class="filter-bar">
    <select [(ngModel)]="selectedYear" (change)="onYearChange()">
      <option *ngFor="let year of years" [value]="year">{{ year }}å¹´åº¦</option>
    </select>
    <select [(ngModel)]="selectedMonth" (change)="onMonthChange()">
      <option *ngFor="let month of months" [value]="month">{{ month }}æœˆ</option>
    </select>
    <select [(ngModel)]="selectedBranch" (change)="onBranchChange()">
      <option value="">å…¨æ”¯ç¤¾</option>
      <option *ngFor="let branch of branches" [value]="branch">{{ branch }}</option>
    </select>
    <input type="text" [(ngModel)]="searchKeyword" placeholder="å¾“æ¥­å“¡æ¤œç´¢">
    <button (click)="onSearch()">ğŸ”</button>
    <button routerLink="/salary-form">çµ¦ä¸ãƒ»è³ä¸ç™»éŒ²</button>
  </div>
  <div class="employee-salary-table-wrapper">
    <table class="employee-salary-table">
      <thead>
        <tr>
          <th (click)="sortBy('name')">å¾“æ¥­å“¡å</th>
          <th (click)="sortBy('branch')">æ”¯ç¤¾</th>
          <th>åŸºæœ¬çµ¦</th>
          <th>æ®‹æ¥­ä»£</th>
          <th>ãã®ä»–æ‰‹å½“</th>
          <th>è³ä¸</th>
          <th>ç·æ”¯çµ¦é¡</th>
          <th>ç™»éŒ²çŠ¶æ…‹</th>
          <th>ç·¨é›†</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let employee of filteredEmployees">
          <td>{{ employee.name }}</td>
          <td>{{ employee.branch }}</td>
          <td>{{ employee.baseSalary | currency:'JPY':'symbol' }}</td>
          <td>{{ employee.overtime | currency:'JPY':'symbol' }}</td>
          <td>{{ employee.allowance | currency:'JPY':'symbol' }}</td>
          <td>{{ employee.bonus | currency:'JPY':'symbol' }}</td>
          <td>{{ employee.totalSalary | currency:'JPY':'symbol' }}</td>
          <td>{{ employee.status }}</td>
          <td>
            <button (click)="onRegisterSalary(employee)">ç·¨é›†</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
